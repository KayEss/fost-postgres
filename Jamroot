path-constant TOP : . ;
include $(TOP)/../boost-version.jam ;

project
    :
        requirements
        <include>$(BOOST_HEADERS)
        <include>../PostgreSQL/libpqxx/include
        <include>../fost-base/Cpp/include
        <include>../fost-orm/Cpp/include
        <threading>multi
        <runtime-link>shared

        <target-os>windows:<include>../OpenSSL/install/include/
        <target-os>windows:<include>../PostgreSQL/libpqxx/config/sample-headers/libpq/8.3
        <target-os>windows:<include>../PostgreSQL/libpqxx/config/sample-headers/compiler/VisualC++.NET-2003
        <target-os>windows:<include>"C:/Program Files/PostgreSQL/8.3/include"

        <target-os>windows:<exception-handling>on
        <target-os>windows:<asynch-exceptions>on
        <target-os>windows:<extern-c-nothrow>off
        <target-os>windows:<debug-symbols>on
        <target-os>windows:<debug-store>database

        <target-os>windows:<define>WIN32
        <target-os>windows:<define>_AFXDLL
        <target-os>windows:<define>UNICODE
        <target-os>windows:<define>_UNICODE
    :
        default-build debug
    :
        build-dir $(BUILD_DIRECTORY)
    ;

build-project ../fost-base/Cpp/fost-ftest/ ;
build-project Cpp/fost-postgres/ ;
build-project Cpp/fost-postgres-test/ ;
